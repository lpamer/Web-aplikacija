<header>Dokumentacija</header>

<br>
<br>
<div class="labela_dokumentacija">
    <img id="moja-slika" src="../../assets/slike/slika_ikona.jpg" alt="Opis slike" width="100" height="100">
    <h2>Autor: Luka Pamer</h2>
    <label for="email">lpamer20&#64;student.foi.hr</label>
    <br>
    <br>
</div>

<br>
<br>
<h2>Zadaci prve zadaće</h2>

<table id="sadrzaj">

    <tr>
        <th>Resurs
            Parametri
        </th>
        <th>GET
            čitanje</th>
        <th>POST
            kreiranje</th>
        <th>PUT
            ažuriranje</th>
        <th>DELETE
            brisanje
        </th>
    </tr>
    <tr>
        <td>baza/korisnici</td>
        <td>vraća sve korisnike (200) <b>NAPRAVLJENO</b></td>
        <td>kreira novog
            korisnika (201) <b>NAPRAVLJENO</b>
        </td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>baza/korisnici
            /(korime)
        </td>
        <td>vraća podatke određenog
            korisnika (200) <b>NAPRAVLJENO</b></td>
        <td>“zabranjeno” (405) <b>NAPRAVLJENO</b></td>
        <td>ažurira
            određenog
            korisnika
            (201) <b>NAPRAVLJENO</b></td>
        <td>briše
            jednog
            korisnika
            (201)
            <b>NAPRAVLJENO</b>
        </td>
    </tr>
    <tr>
        <td>baza/korisnici
            /(korime)/prijava
            NE TRAŽI VALIDAN
            JWT
        </td>
        <td>Vraća JWT token u
            zaglavlju ako postoji
            sesija (201). Ako ne
            postoji sesija javlja
            “zabranjen pristup” (401)<b>NAPRAVLJENO BEZ JWT</b></td>
        <td>Provjerava podatke
            prijave, ako su
            ispravni kreira sesiju.
            (201)
            <b>NAPRAVLJENO PUTEM KOLAČIĆA</b>
        </td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>baza/favoriti</td>
        <td>Vraća sve podatke serija
            spremljenih u favorite
            prijavljenog korisnika
            (200) <b>NAPRAVLJENO</b></td>
        <td>Dodaje novu seriju u
            favorite prijavljenog
            korisnika (201)
            <b>NAPRAVLJENO</b>
        </td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>baza/favoriti/(id)</td>
        <td>Vraća sve podatke tražene
            serije u favoritima
            prijavljenog korisnika
            (200)<b>NAPRAVLJENO</b></td>
        <td>“zabranjeno” (405) <b>NAPRAVLJENO</b></td>
        <td>“zabranjeno”
            (405) <b>NAPRAVLJENO</b>
        </td>
        <td>Briše seriju
            iz favorita
            (201) <b>NAPRAVLJENO</b>
        </td>
    </tr>
    <tr>
        <td>baza/dnevnik
            ?stranica=broj
            &sortiraj=[d | m]
            [&datumOd=datum]
            [&datumDo=datum]
            [&vrijemeOd=vrijeme]
            [&vrijemeDo=vrijeme] <b>NIJE NAPRAVLJENO</b>
        </td>
        <td>vraća podatke loga za
            neku stranicu (broj),
            opcionalno filtrirano po
            vremenskom periodu
            (moguće sve kombinacije
            datuma i vremena od ili
            do), te podatke dobiva
            sortirano silazno po
            “datumu i vremenu” (d) ili
            uzlazno po metodi (m)
            (200) <b>NIJE NAPRAVLJENO</b>
        </td>
        <td></td>
        <td></td>
        <td></td>
    </tr>


</table>
<br>
<br>
<table class="sadrzaj">
    <tr>
        <th>Uloga </th>
        <th>Stranica/e </th>
        <th>Opis
        </th>
    </tr>


    <tr>
        <td>Gost </td>
        <td>Početna</td>
        <td>Prikazuje tražilicu serija po nazivu. Na početku nema ničega već samo jedno
            tekstualno polje, tek kad se unese barem 3 znaka počinju se slati zahtjevi prema
            TMDB servisu. Servis u svom odgovoru sadrži informaciju o broju stranica
            (total_pages) i broju nađenih serija (total_results). Servis ako ima puno podataka
            uvijek vraća uvijek jednaki broj serija po stranici osim zadnje stranice. Potrebno je
            prilagoditi broj vraćenih serija temeljem parametra appStranicenje. Na primjer ako
            servis vrati 20 zapisa i ima 10 stranica, a u appStranicenje piše 5 treba prikazati
            samo 5 zapisa i 40 stranica. Ako u appStrnicenje piše 40 treba prikazati 40 zapisa i
            5 stranica.
            Kod prikaza se prikazuje naziv (name) serije, opis (overview) i gumb na detalje
            serije. <b>NAPRAVLJENO SVE OSIM STRANIČENJA</b>
        </td>
    </tr>
    <tr>
        <td>Gost /
            Korisnik</td>
        <td>SerijaDetalji </td>
        <td>Prikazuje detalje odabrane serije. Prikazuju se naziv (name), opis (overview), broj
            sezona, broj epizoda, popularnost, slika (poster_path), poveznica na vanjsku
            stranicu (homepage).
            Ako je korisnik prijavljen dolje se nalazi gumb spremi koji sprema barem ove
            podatke (plus tmdb id) serije u bazu ako ne postoji kao i informacije o sezonama
            (minimalno: naziv (name), opis (overview), slika (poster_path), broj sezone, broj
            epizoda u sezoni, tmdb id sezone). Te nakon toga dodaje seriju u favorite tom
            korisniku. Ako serija postoji u bazi tada ju samo dodaje u favorite korisniku.
            <b>NAPRAVLJENO</b>
        </td>
    </tr>
    <tr>
        <td>Gost</td>
        <td>Dokumentacija</td>
        <td>Prikazuje stranicu dokumentacija.html opisanu ranije. <b>NAPRAVLJENO</b></td>
    </tr>
    <tr>
        <td>Gost </td>
        <td>Prijava, Odjava </td>
        <td>Korisnik se može prijaviti ili odjaviti. <b>NAPRAVLJENO</b></td>
    </tr>
    <tr>
        <td>Korisnik </td>
        <td>Profil</td>
        <td>Vidi svoje podatke (ime, prezime, korisničko ime, e-mail, …) i može ih ažurirati.
            Korisničko ime i e-mail se ne mogu ažurirati. <b>NAPRAVLJENO</b></td>
    </tr>
    <tr>
        <td>Korisnik </td>
        <td>Favoriti</td>
        <td>Vidi popis serija koje ima u favoritima u bazi. Klikom na seriju može vidjeti detalje
            svog favorita. <b>NAPRAVLJENO</b>
        </td>
    </tr>
    <tr>
        <td>Korisnik</td>
        <td>FavoritDetalji </td>
        <td>Prikazuje sve informacije o seriji i informacije o svakoj sezoni serije koje ima u
            bazi. Slike se prikazuju kao slike ne samo putanje iz baze <b>NAPRAVLJENO</b></td>
    </tr>
    <tr>
        <td>Admin </td>
        <td>Registracija </td>
        <td>Gost se ne može samostalno registrirati kao novi korisnik već to radi admin. Kod
            dodavanja mora obavezno unjeti email, korisničko ime i lozinku. Opcionalno može
            unijeti ime, prezime i još barem 3 druga podatka po vlastitom odabiru. Korisnik
            admin mora biti unaprijed dodan u bazu. Kod registracije šalje se e-mail korisniku
            sa informacijom da je registrian i koje mu je korisničko ime i lozinka. Lozinka se u
            bazu ne smije spremati u čitljivom obliku i treba koristiti sol kod spremanja <b>NAPRAVLJENO</b></td>
    </tr>
    <tr>
        <td>Admin </td>
        <td>Korisnici</td>
        <td>Vidi podatke svih korisnika i može obrisati nekog korisnika, pri čemu se brišu svi
            njegovi favoriti. Glavni korisnik admin se ne može obrisati i to treba blokirati. <b>NAPRAVLJENO</b></td>
    </tr>
    <tr>
        <td>Admin </td>
        <td>Dnevnik</td>
        <td>Vidi pregled dnevnika u obliku tablice. Podaci su inicijalno sortirani po datumu
            silazno. Može sortirati podatke uzlazno po metodi (GET, POST, PUT, DELETE).
            Može podatke filtirati pod datumuOd, vremenuOd, datumuDo i/ili vremenuDo.
            Bilo koja kombinacija filtriranja je moguća, ako ništa nike uneseno dobiju se svi
            podaci, a svaki filter radi veću restrikciju. Potrebno je napraviti straničenje <b>NIJE NAPRAVLJENO</b></td>
    </tr>

</table>

<h2>Zadaci druge zadaće</h2>

<ol>
    <li>Na stranicu dokumentacija ažurirati tablice iz prve zadaće oko informacija koji dijelovi su
        napravljeni za servis odnosno aplikaciju. Ako je nešto napravljeno dijelomično treba to jasno
        napisati koji dio je napravljen. Ako ovog dijela nema bodovi vezani uz web aplikaciju i/ili web
        servis nose 0 bodova. <b>NAPRAVLJENO</b></li>
    <li>Na stranicu dokumentacija kreirati tablicu po koracima (počevši od zadaci općenito) ovog
        dokumenta u kojoj jasno pišu elementi opisa 2 zadaće koji su napravljeni, koji nisu. Ako ovog
        dijela nema zadaća nosi 0 bodova. Može se napraviti još jedna tablica sa dodatnim opisima ako
        se želi nešto naglasiti. Nije obavezno. <b>NAPRAVLJENO</b></li>
    <li>Složite package.json tako da se sa npm start može pokrenuti server i isto tako jedan
        package.json, tsconfig.json i angular.json da se može pokrenuti angular projekt.</li>
    <li>Kod predavanja zadaće izbrisati svoje ključeve za TMDB servis iz konfiguracijske datoteke svaki
        student ubacuje svoje ključeve u konfiguracijsku datoteku kod testiranja. <b>NAPRAVLJENO</b></li>
    <li>Klientski dio Web Aplikacije HTML, CSS i JS na strani klijenta prebaciti u Angular sa
        TypeScript-om. <b>NAPRAVLJENO</b></li>
    <li>Pozadinski dio web aplikacije poslužuje kompajliranu verziju Angular aplikacije. Moguće je
        pokretanje Angular aplikacije preko live servera sa ng serve, ali ta varijanta nosi manje bodova.
        7. Pozadinski dio web aplikacije poslužuje dokumentaciju - moguće je dokumentaciju ugraditi u
        samu angular aplikaciju.</li> <b>NIJE NAPRAVLJENO</b>
    <li>>Pozadinski dio web aplikacije nudi podršku u obliku REST servisa. REST servis sadrži sve
        metode kako je to bilo u prvoj zadaći za rad s bazom podataka. Dodatno svi ostali pozadinski
        dijelovi prve zadaće (npr. komunikacija sa TMDB servisom) koji nemaju direktne veze s bazom
        se sada tretiraju kao proširenje REST servisa jer klijentski dio aplikacije sada mora slati sve preko
        fetch zahtjeva. Angular aplikacija nikad ne komunicira direktno sa TMDB servisom već preko
        pozadinskog dijela kao u prvoj zadaći. <b>NAPRAVLJENO</b></li>
    <li>Sada svi pozadinski dijelovi osim inicialnog posluživanja Angular aplikacije i prijave traže
        validan JWT. <b>NIJE NAPRAVLJENO</b></li>
    <li>Informacije o bazičnoj adresi i portu za pozadinski dio koji koristi Angular aplikacija kod slanja
        fetch zahtjeva čitaju se iz environment datoteke. Hard kodirana varijanta nosi manje bodova. <b>NAPRAVLJENO</b>
    </li>
    <li>Potrebno je doraditi dizajn stranice ako u prvoj zadaći niste vodili o tome previše računa. Dizajn
        treba prebaciti korištenjem Sass preprocesora u Sass ili Scss sintaksi. Čisti CSS ili bootstrap
        varijante nose 0 bodova. <b>NAPRAVLJENO</b></li>
    <li>Dodati reCaptcha v3 sustav na minimalno 3 obrazaca od kojih su obavezni: prijava, registracija i
        ažuriranje profila. <b>NIJE NAPRAVLJENO</b></li>
    <li>Potrebno je doraditi ažuriranje profila sa opcijom da se uključi dvorazinska autentifikacija.
        Prilikom prvog uključivanja dvorazinske autentifikacije potrebno je kreirati tajni ključ koji se
        sprema u bazu i prikazuje korisniku utekstualnom obliku ili u obliku QR koda (za dodatne
        bodove). Korisnik može isključiti dvorazinsku autentifikaciju ili ponovo uključiti, ali više nema
        prikaza tajnog ključa. <b>NIJE NAPRAVLJENO</b></li>
    <li>>Potrebno je doraditi prijavu da se autentifikacija radi u dvije razine. Prvo korisničko ime i lozinka
        te nakon toga TOTP ako je uključena dvorazinska autentifikacija za tog korisnika.</li>
    <li>Potrebno je doraditit prijavu da omogućuje mogućnost prijave sa oAuth putem GitHub računa.
        Takav korisnik nema TOTP. <b>NAPRAVLJENO</b></li>
    <li>Korisnik koji se prijavi preki GitHub računa ne radi ništa s bazom podatka. Kod takvog korisnika
        spremanje favorita se radi u preglednikov local storage. Jednako tako pregled favorita i
        favoritDetalji se čitaju iz local storage u pregledniku. Stranica profila nije dostupna.<b>NAPRAVLJEN UPIS U
            LOCALSTORAGE ALI SAMO ID</b></li>
    <li>Inicijalno mora postojati korisnik iz svake uloge koji nema TOTP i treba navesti podatke na
        stranici prijava radi lakšeg testiranja. <b>NAPRAVLJENO</b></li>
    <li>Za dodatne bodove može se prebaciti cijeli pozadinski dio u TypeScript. Kod pokretanja sa npm
        start obavezno se mora napraviti recompile TypeScript-a i kopiranje svih bitnih statičnih sadržaja
        da aplikacija normalno radi. <b>NIJE NAPRAVLJENO</b></li>
</ol>